@import 'tailwindcss';
@source '../styles/components/videojs.css';
@source '../styles/components/cookiebot.css';
@source 'video.js/dist/video-js.css';

@theme {
  --font-sans: 'Equinor', 'Open Sans', sans-serif;
  --breakpoint-md: 43.75rem;
  --breakpoint-xl: 81.25rem;
  --breakpoint-3xl: 100rem;
  --breakpoint-4xl: 120rem;

  --color-moss-green-100: hsl(184, 100%, 17%);
  --color-moss-green-95: hsl(184, 100%, 24%);
  --color-moss-green-90: hsl(184, 31%, 58%);
  --color-moss-green-80: hsl(184, 31%, 74%);
  --color-moss-green-60: hsl(184, 31%, 89%);
  --color-moss-green-50: hsl(184, 30%, 96%);
  --color-energy-red-100: hsl(348, 100%, 54%);
  --color-clear-red-100: hsl(0, 100%, 46%);
  --color-black-100: hsl(0, 0%, 0%);
  --color-black-80: hsl(0, 0%, 20%);
  --color-slate-blue-100: hsl(206, 34%, 14%);
  --color-slate-blue-95: hsl(206, 32%, 21%);
  --color-slate-blue-90: hsl(207, 14%, 37%);
  --color-slate-80: rgba(61, 61, 61, 1);
  --color-mist-blue-100: hsl(199, 58%, 90%);
  --color-spruce-wood-100: hsl(25, 100%, 92%);
  --color-spruce-wood-90: hsl(25, 100%, 94%);
  --color-green-50: #c3e4ce;
  --color-yellow-50: #fff5b8;
  --color-blue-50: #49709c;
  --color-orange-50: #f8d1af;
  --color-north-sea-90: #051b33;
  --color-north-sea-80: #2a4d74;
  --color-north-sea-50: #a8c3db;
  --color-norwegian-woods-100: #007079;
  --color-norwegian-woods-70: #aad5bb;
  --color-norwegian-woods-60: #c3e4ce;
  --color-norwegian-woods-40: #e6faec;
  --color-sand-and-summer-50: #ffe7d6;
  --color-autumn-storm-60: #86a7ac;
  --color-autumn-storm-40: #c2d4d6;
  --color-grey-20: hsl(0, 0%, 92%);
  --color-grey-50: hsl(0, 0%, 55%);
  --color-grey-60: hsl(0, 0%, 44%);
  --color-white-100: hsl(0, 0%, 100%);

  --text-2xs: clamp(calc(11.11 / 16 * 1rem), 0.19vw + 0.65rem, calc(14.08 / 16 * 1rem));
  --text-xs: clamp(calc(13.33 / 16 * 1rem), 0.28vw + 0.77rem, calc(17.6 / 16 * 1rem));
  --text-sm: clamp(calc(14.61 / 16 * 1rem), 0.33vw + 0.84rem, calc(19.68 / 16 * 1rem));
  --text-base: clamp(calc(16 / 16 * 1rem), 0.39vw + 0.91rem, calc(22 / 16 * 1rem));
  --text-md: clamp(calc(19.2 / 16 * 1rem), 0.54vw + 1.07rem, calc(27.5 / 16 * 1rem));
  --text-lg: clamp(calc(23.04 / 16 * 1rem), 0.73vw + 1.27rem, calc(34.38 / 16 * 1rem));
  --text-xl: clamp(calc(27.65 / 16 * 1rem), 0.99vw + 1.5rem, calc(42.97 / 16 * 1rem));
  --text-2xl: clamp(calc(33.73 / 16 * 1rem), 1.38vw + 1.785rem, calc(55.055 / 16 * 1rem));
  --text-3xl: clamp(calc(39.81 / 16 * 1rem), 1.77vw + 2.07rem, calc(67.14 / 16 * 1rem));
  --text-4xl: clamp(calc(45.89 / 16 * 1rem), 2.16vw + 2.355rem, calc(79.225 / 16 * 1rem));
  --text-5xl: clamp(calc(51.97 / 16 * 1rem), 2.55vw + 2.64rem, calc(91.31 / 16 * 1rem));
  --text-6xl: clamp(calc(58.05 / 16 * 1rem), 2.94vw + 2.925rem, calc(103.39 / 16 * 1rem));

  --font-weight-semibolder: 650;

  --radius-2xs: 0.1rem;

  --leading-text: 2.3rem;
  --leading-inherit: inherit;
  --leading-earthy: 1.2;
  --leading-misty: 1.25;
  --leading-cloudy: 1.35;
  --leading-planetary: 1.5;

  --scale-99: 0.99;

  --shadow-card: rgba(0, 0, 0, 0.08) 0px 1px 3px, 1px -1px 2px 0px rgba(0, 0, 0, 0.07), rgba(0, 0, 0, 0.2) 0px 1px 2px;
  --shadow-card-interact: rgba(0, 0, 0, 0.14) 0px 1px 3px, rgba(0, 0, 0, 0.36) 0px 1px 2px;

  --ease-scroll: cubic-bezier(0.645, 0.045, 0.355, 1);
  --ease-ease: cubic-bezier(0.25, 0.1, 0.25, 1);

  /* Modal */
  --modal-transition-duration: 0.4s;
  --modal-transition-easing: cubic-bezier(0.45, 0, 0.55, 1);

  /* or just --fr? flex-(--fr) */
  --flex-fr: 1 1 1;

  /* or just --motion-safe? transition-(--my-properties) */
  --transition-motion-safe: motion-safe;

  /*just --card ? grid-cols-(--my-grid-cols) */
  --grid-cols-card: repeat(auto-fill, minmax(min(100%, 220px), 400px));

  /* Implement in code and check
        flex: {
        fr: '1 1 1',
      },
  */
}
@utility grid-overlay {
  grid: [overlay] 1fr / [overlay] 1fr;
}
@utility grid-area-overlay {
  grid-area: overlay;
}

@theme inline {
  --spacing-page-content: --spacing(20);
  --spacing-innerColumn: calc(100vw - (var(--spacing-layout-lg) * 2));
  --spacing-smContainer: calc(100vw - --spacing(layout-sm) - --spacing(layout-sm));
  --spacing-menuText: calc(35 * --spacing(6));
  --spacing-topbar: 85px;
  --spacing-layout-sm: clamp(16px, calc(-38.3689px + 14.4984vw), 250px);
  --spacing-layout-md: clamp(16px, calc(-69.4369px + 22.7832vw), 368px);
  --spacing-layout-lg: clamp(16px, calc(-101.4757px + 31.3269vw), 500px);
  --spacing-news-banner-vertical: clamp(40px, calc(14.3125px + 11.0032vw), 210px);
  --spacing-single-carousel-card-w-sm: 350px; /*275px;*/
  --spacing-single-carousel-card-w-md: 692px;
  --spacing-single-carousel-card-w-lg: 980px;
  --spacing-single-carousel-card-h-sm: 400px;
  --spacing-single-carousel-card-h-md: 430px;
  --spacing-single-carousel-card-h-lg: 516px;
  --spacing-event-carousel-card-w: 383px;
  --spacing-arrow-right: 1.58rem;
  --spacing-viewport: 1920px;
  --spacing-text: 760px;

  /* PROSE - Typography to be used with blocks */

  /* font size: change --prose-text to reference var(--text-md) to replace prose-md */
  --prose-text-base: var(--text-base);

  /* text color: change --prose-body to reference var(--color-.....) */
  --prose-body: var(--color-slate-80);
}

/*
@custom-variant data-checked (&[data-ui~="checked"]);
data-ui="checked active" class="data-checked:underline">
*/
@custom-variant data-open (&[data-state~="open"]);
@custom-variant data-closed (&[data-state~="closed"]);
@custom-variant data-active (&[data-state~="active"]);
@custom-variant data-vertical (&[data-orientation~="vertical"]);
@custom-variant data-horizontal (&[data-orientation~="horizontal"]);
@custom-variant data-selected (&[data-selected~="true"]);
@custom-variant data-expanded (&[data-expanded~="true"]);
@custom-variant data-overflowing (&[data-overflowing~="true"]);
@custom-variant aria-current (&[aria-current~="page"]);

@custom-variant sticky-menu {
  &:where([data-sticky-menu='true'] *) {
    @slot;
  }
}

@custom-variant prose {
  &:where([class~='prose'], [class~='prose'] *) {
    @slot;
  }
}
@custom-variant prose-medium {
  &:where([class~='prose-medium'], [class~='prose-medium'] *) {
    @slot;
  }
}
@custom-variant prose-article {
  &:where([class~='prose-article'], [class~='prose-article'] *) {
    @slot;
  }
  /*   &:where([data-prose='article'] *) {
    @slot;
  } */
}
@custom-variant prose-campaign {
  &:where([class~='prose-campaign'], [class~='prose-campaign'] *) {
    @slot;
  }
}

/* old darkMode: ['variant', [':is(.dark &):not(.light &)']],*/
/* @custom-variant dark (&:where(.dark, .dark *)); */
@custom-variant dark (&:is(.dark &):not(.light &));

/*
Test highlight on Text teaser and (Text block?)
and not use important in textteaser theme
*/
/* @custom-variant highlight (&:where([data-highlight], [data-highlight] *)) */

@custom-variant envis-outline {
  @apply outline-2 outline-offset-3 outline-norwegian-woods-100 outline-dashed;
}
@custom-variant envis-outline-invert {
  @apply outline-2 outline-offset-3 outline-white-100 outline-dashed;
}
@custom-variant envis-outline-invert {
  word-break: 'break-word';
}

@custom-variant supports-animation-timeline {
  @supports (animation-timeline) {
    @slot;
  }
}

@custom-variant supports-backdrop {
  @supports (selector(::backdrop)) {
    @slot;
  }
}

@custom-variant animate-timeline {
  @apply animate-fadeInOut;
  animation-timeline: view();
  animation-range: cover 18% cover 85%;
}
@custom-variant animate-timeline {
  @apply animate-fadeInOut;
  animation-timeline: view();
  animation-range: cover 18% cover 85%;
}

@utility animate-spin-slow {
  animation: spin 3s linear infinite;
}

@utility no-scrollbar {
  &::-webkit-scrollbar {
    display: none;
  }
}

@utility envis-scrollbar {
  &::-webkit-scrollbar {
    @apply h-2.5 bg-grey-20;
  }
  &::-webkit-scrollbar-track {
    @apply h-2.5 bg-grey-20;
  }
  &::-webkit-scrollbar-thumb {
    @apply h-2.5 rounded-2xs bg-grey-50 hover:bg-grey-60;
  }
}

@utility white-right-gradient {
  background-image: linear-gradient(
    to right,
    rgba(255, 255, 255, 0.1),
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0.4) 100%
  );
}
@utility white-left-gradient {
  background-image: linear-gradient(
    to left,
    rgba(255, 255, 255, 0.1),
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0.4) 100%
  );
}
@utility white-to-top-gradient {
  background-image: linear-gradient(
    to top,
    rgba(255, 255, 255, 0.7),
    rgba(255, 255, 255, 0.3) 30%,
    rgba(255, 255, 255, 0) 100%
  );
}
@utility white-to-top-tall-gradient {
  background-image: linear-gradient(
    to top,
    rgba(255, 255, 255, 0.6),
    rgba(255, 255, 255, 0.5) 30%,
    rgba(255, 255, 255, 0.35) 60%,
    rgba(255, 255, 255, 0) 100%
  );
}
@utility white-center-gradient {
  background-image: linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));
}
@utility black-right-gradient {
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3) 30%, rgba(0, 0, 0, 0.4) 100%);
}
@utility black-left-gradient {
  background-image: linear-gradient(to left, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.3) 30%, rgba(0, 0, 0, 0.4) 100%);
}
@utility black-center-gradient {
  background-image: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4));
}
@utility black-blue-center-gradient {
  background-image:
    linear-gradient(var(--colors-slate-blue-95) / 50, var(--colors-slate-blue-95) / 50),
    linear-gradient(rgba(0, 0, 0, 0.36), rgba(0, 0, 0, 0.36));
}
@utility fade-in-black-gradient {
  background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 60%, rgba(0, 0, 0, 0.8) 100%);
}
@utility black-to-top-gradient {
  background-image: linear-gradient(
    to top,
    rgba(0, 0, 0, 0.7),
    rgba(0, 0, 0, 0.6) 20%,
    rgba(0, 0, 0, 0.45) 32%,
    rgba(0, 0, 0, 0.1) 60%,
    rgba(0, 0, 0, 0) 100%
  );
}
@utility black-to-top-tall-gradient {
  background-image:
    linear-gradient(to top, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3) 40%, rgba(0, 0, 0, 0) 100%),
    linear-gradient(26deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.45) 35%, rgba(0, 0, 0, 0) 100%);
}
@utility box-shadow-crisp {
  box-shadow:
    0.3px 0.5px 0.7px hsl(var(--tw-shadow-color) / 0.34),
    0.4px 0.8px 1px -1.2px hsl(var(--tw-shadow-color) / 0.34),
    1px 2px 2.5px -2.5px hsl(var(--tw-shadow-color) / 0.34);
}
@utility box-shadow-crisp-interact {
  box-shadow:
    rgba(0, 0, 0, 0.1) 0px 1px 3px 0px,
    rgba(0, 0, 0, 0.08) 0px 3px 4px 0px;
}

/* Works out of the box?
aspect-<ratio> -> aspect-ratio: <ratio>;
Use aspect-<ratio> utilities like aspect-3/2 to give an element a specific aspect ratio:

To handle fractions, we rely on the CSS ratio data type. 
If this is used with --value(), it's a signal to Tailwind to 
treat the value and modifier as a single value:

  --aspect-4/5': '0.8';
  --aspect-5/4': '1.25';
  --aspect-9/16': '0.56';
  --aspect-4/3': '4/3';

  @utility aspect-* {
  aspect-ratio: --value(--aspect-ratio- *, ratio, [ratio]);
}*/

@layer base {
  body {
    -webkit-font-smoothing: antialiased;
  }
  p,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    overflow-wrap: break-word;
  }

  input[type='search' i]::-webkit-search-cancel-button {
    display: none;
  }

  /* Scroll lock on the native dialog html element */
  body:has(dialog[open]) {
    @apply overflow-hidden;
  }

  article {
    counter-reset: footnotes;
  }

  @keyframes slideUp {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }

  @keyframes slideDown {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }

  /* VIDEOJS */
  .video-js.vjs-fill .vjs-control-bar {
    @apply !bg-transparent;
  }
  .video-js.vjs-fill .vjs-play-control {
    @apply !bg-slate-blue-100;
  }
  .video-js:not(.vjs-fill) .vjs-control-bar {
    @apply !bg-slate-blue-100;
  }

  .video-js .vjs-big-play-button {
    @apply flex !h-[2.3em] !w-[2.3em] items-center justify-center !rounded-full !border-none;
  }
  .video-js .vjs-big-play-button .vjs-icon-placeholder::before {
    @apply !text-2xl max-lg:mt-2.5;
  }
  .video-js .vjs-audio-button,
  .vjs-picture-in-picture-control {
    @apply !hidden;
  }
  /* BRAND THEMING */
  .vjs-envis-brand:hover .vjs-big-play-button {
    @apply !bg-energy-red-100;
  }
  .vjs-envis-brand .vjs-big-play-button:focus {
    @apply !bg-energy-red-100;
  }
}

@utility animate-slideDown {
  animation: slideDown 0.2s ease-out;
}

@utility animate-slideUp {
  animation: slideUp 0.2s ease-out;
}

@layer components {
  /*   .prose :where(li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply my-2;
  } */
  /*   .prose :where(ul > li):not(:where([class~='not-prose'], [class~='not-prose'] *)),
  .prose :where(ol > li):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply ml-2 pl-1.5;
  } */
  /* .prose :where(.prose>ul>li p):not(:where([class~=not-prose],[class~=not-prose] *)) {

} */
  /*   .prose :where(.prose > ul > li > :first-child):not(:where([class~='not-prose'], [class~='not-prose'] *)),
  .prose :where(.prose > ol > li > :first-child):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply mt-0;
  } */

  /*   .prose :where(.prose > ul > li > :last-child):not(:where([class~='not-prose'], [class~='not-prose'] *)),
  .prose :where(.prose > ol > li > :last-child):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply mt-0;
  }
  .prose :where(ul ul, ul ol, ol ul, ol ol):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply my-3 pl-6;
  } */

  /*   .prose :where(ol > li):not(:where([class~='not-prose'], [class~='not-prose'] *))::marker {
    font-weight: 400;
    color: var(--tw-prose-counters);
  }

  .prose :where(ul > li):not(:where([class~='not-prose'], [class~='not-prose'] *))::marker {
    color: var(--tw-prose-bullets);
  } */

  /* PROSE-ARTICLE */
  /*   .prose-article :where(h2):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply px-layout-lg text-lg;
  }
  .prose-article :where(h3):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply px-layout-lg text-md;
  } */
  /*   .prose-article :where(p):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply px-layout-lg;
  } */
  /* PROSE-MEDIUM */
  .prose-medium {
    @apply text-md;
  }
  .prose-medium :where(h2):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply my-6 text-xl;
  }
  .prose-medium :where(h3):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply my-6 text-lg;
  }
  /* PROSE-CAMPAIGN */
  .prose-campaign :where(p):not(:where([class~='not-prose'], [class~='not-prose'] *)) {
    @apply my-0 text-balance;
  }
  /** PROSE END  */

  .clickbound-area {
    @apply before:absolute before:top-1/2 before:left-1/2 before:aspect-square before:w-[48px] before:translate-x-[-50%] before:translate-y-[-50%] before:cursor-pointer before:rounded-[100%] before:content-[''];
  }

  /**
 * Inline footnotes references
 * 1. Increment the counter at each new reference
 */
  a[aria-describedby='footnote-label'] {
    @apply relative cursor-default text-inherit outline-hidden;
    counter-increment: footnotes;
    text-decoration: none;
    /* outline: none;*/
  }
  a[aria-describedby='footnote-label']::before {
    @apply cursor-pointer;
    content: '';
    position: absolute;
    width: 48px;
    aspect-ratio: 1/1;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 100%;
  }
  /**
 * Actual numbered references
 * 1. Display the current state of the counter (e.g. `[1]`)
 */
  a[aria-describedby='footnote-label']::after {
    @apply cursor-pointer pr-[2px] pl-[2px] align-super text-xs font-medium text-slate-blue-95 no-underline hover:font-medium hover:underline;
    content: counter(footnotes); /* 1 */
  }

  /**
 * Resetting the default focused styles on the number
 */
  a[aria-describedby='footnote-label']:focus::after {
    @apply outline-2 outline-offset-2 outline-norwegian-woods-100 outline-dashed;
  }

  /* highlight the note in the footer */
  footer :target {
    @apply w-fit bg-autumn-storm-40;
  }
}
